<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />

<h2>Login</h2>
<form method="post" asp-action="Login">
    <input type="text" name="username" placeholder="Username" required class="form-control mb-2" />

    <div class="input-group mb-2">
        <input type="password" id="loginPassword" name="password" placeholder="Password" required class="form-control mb-2" />
        <span class="input-group-text">
            <i class="bi bi-eye-slash" id="toggleLoginPassword" style="cursor: pointer;"></i>
        </span>
    </div>

    <button type="submit" class="btn btn-primary">Login</button>
</form>
<a asp-action="ForgotPassword">Forgot Password?</a>
@if (ViewBag.Error != null)
{
    <div class="alert alert-danger">@ViewBag.Error</div>
}

<script>
    function togglePassword(inputId, toggleId) {
        const input = document.getElementById(inputId);
        const toggle = document.getElementById(toggleId);
        if (input && toggle) {
            toggle.addEventListener('click', () => {
                const type = input.getAttribute('type') === 'password' ? 'text' : 'password';
                input.setAttribute('type', type);
                toggle.classList.toggle('bi-eye');
                toggle.classList.toggle('bi-eye-slash');
            });
        }
    }
    togglePassword('loginPassword', 'toggleLoginPassword');
    togglePassword('resetPassword', 'toggleResetPassword');
    togglePassword('addUserPassword', 'toggleAddUserPassword');
</script>
